@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms:<http://purl.org/dc/terms/> .
@prefix gtfs:   <http://vocab.gtfs.org/terms#> .
@prefix geo:    <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix schema: <http://schema.org/> .
@prefix dbo:    <http://dbpedia.org/ontology/> .
@prefix ex:     <http://group06.linkeddata.es/ontology/madridbus/> .

<http://group06.linkeddata.es/ontology/madridbus>
  a owl:Ontology ;
  dcterms:title "Madrid Bus Network Ontology"@en ;
  dcterms:creator "Group 06" ;
  dcterms:created "2025-10"^^xsd:gYearMonth ;
  dcterms:license <https://creativecommons.org/licenses/by/4.0/> ;
  dcterms:source <https://mobilitydatabase.org/feeds/gtfs/mdb-2820> ;
  rdfs:comment "Lightweight ontology for Madrid's CRTM bus network (mdb-2820), extending the GTFS vocabulary. Data instances link bus stops to geographic areas (neighborhoods/districts), and may link to external knowledge bases (primarily Wikidata, optionally DBpedia) via owl:sameAs to enable quiz content about local history and culture."@en ;
  owl:versionInfo "1.0" ;
  owl:imports <http://vocab.gtfs.org/terms> ;         # <— cambiato (senza #)
  rdfs:seeAlso <https://www.crtm.es> .

ex:BusRoute a owl:Class ;
  rdfs:label "Bus Route"@en ;
  rdfs:subClassOf gtfs:Route ;
  rdfs:comment "A bus route in the Madrid CRTM network. Specialization of gtfs:Route with route_type = 3 (Bus service)."@en ;
  owl:disjointWith ex:BusStop , ex:LocalArea .

ex:BusStop a owl:Class ;
  rdfs:label "Bus Stop"@en ;
  rdfs:subClassOf gtfs:Stop , schema:Place ;          # <— aggiunto schema:Place
  rdfs:comment "A physical bus stop in the CRTM network with WGS84 coordinates. Each stop can be associated with a LocalArea and linked in the data to external entities via owl:sameAs."@en ;
  owl:disjointWith ex:BusRoute , ex:LocalArea .

ex:LocalArea a owl:Class ;
  rdfs:label "Local Area"@en ;
  rdfs:subClassOf schema:Place , dbo:Place ;
  rdfs:comment "A named geographic area (neighborhood, district, municipality) that contains one or more bus stops. Instances may link to Wikidata/DBpedia via owl:sameAs."@en ;
  owl:disjointWith ex:BusRoute , ex:BusStop .

ex:areaCode a owl:DatatypeProperty ;
  rdfs:label "area code"@en ;
  rdfs:domain ex:LocalArea ;
  rdfs:range xsd:string ;
  rdfs:comment "A short alphanumeric code identifying the local area (e.g., 'ARJ' for Aranjuez)."@en ;
  rdfs:isDefinedBy <http://group06.linkeddata.es/ontology/madridbus> .

ex:locatedInArea a owl:ObjectProperty ;
  rdfs:label "located in area"@en ;
  rdfs:domain ex:BusStop ;
  rdfs:range ex:LocalArea ;
  rdfs:comment "Links a bus stop to the local area where it is located."@en ;
  owl:inverseOf ex:containsStop ;
  rdfs:subPropertyOf schema:containedInPlace ;
  rdfs:isDefinedBy <http://group06.linkeddata.es/ontology/madridbus> .

ex:containsStop a owl:ObjectProperty ;
  rdfs:label "contains stop"@en ;
  rdfs:domain ex:LocalArea ;
  rdfs:range ex:BusStop ;
  rdfs:comment "Indicates that a local area contains one or more bus stops."@en ;
  owl:inverseOf ex:locatedInArea ;
  rdfs:subPropertyOf schema:containsPlace ;
  rdfs:isDefinedBy <http://group06.linkeddata.es/ontology/madridbus> .
